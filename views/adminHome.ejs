
<%- include('adminheader') -%>


<body>


	<!-- SIDEBAR -->
	<section id="sidebar">
		<a href="#" class="brand">
			<i class='bx bxs-smile'></i>
			<span class="text">Aeshion</span>
		</a>
		<ul class="side-menu top">
			<li class="active">
				<a href="#">
					<i class='bx bxs-dashboard' ></i>
					<span class="text">Dashboard</span>
				</a>
			</li>
			<li>
				<a href="/admin/product-management">
					<i class='bx bxs-shopping-bag-alt' ></i>
					<span class="text">Product Management</span>
				</a>
			</li>
			<li>
				<a href="/admin/order-management">
					<i class='bx bxs-doughnut-chart' ></i>
					<span class="text">Order Management</span>
				</a>
			</li>
			<li>
				<a href="/admin/category">
					<i class='bx bxs-message-dots' ></i>
					<span class="text">Category Management</span>
				</a>
			</li>
			<li>
				<a href="/admin/usermanage">
					<i class='bx bxs-group' ></i>
					<span class="text">User Management</span>
				</a>
			</li>

            <li>
				<a href="/admin/banner-management">
					<i class='bx bxs-cog' ></i>
					<span class="text">Banner Management</span>
				</a>
			</li>

            <li>
				<a href="/admin/coupon-management">
					<i class='bx bxs-cog' ></i>
					<span class="text">Coupun Management</span>
				</a>
			</li>

			<li>
				<a href="/admin/sales-report">
					<i class='bx bxs-shopping-bag-alt' ></i>
					<span class="text">Sales Report</span>
				</a>
			</li>
		</ul>
		<ul class="side-menu">
			
			<li>
				<a href="/admin/logout" class="logout">
					<i class='bx bxs-log-out-circle' ></i>
					<span class="text">Logout</span>
				</a>
			</li>
		</ul>
	</section>
	<!-- SIDEBAR -->



	<!-- CONTENT -->
	<section id="content">
		<!-- NAVBAR -->
		<nav>
			<i class='bx bx-menu' ></i>
			<a href="#" class="nav-link">Categories</a>
			<form action="#">
				<div class="form-input">
					<input type="search" placeholder="Search...">
					<button type="submit" class="search-btn"><i class='bx bx-search' ></i></button>
				</div>
			</form>
			<input type="checkbox" id="switch-mode" hidden>
			<label for="switch-mode" class="switch-mode"></label>
			<a href="#" class="notification">
				<i class='bx bxs-bell' ></i>
				<span class="num">8</span>
			</a>
			<a href="#" class="profile">
				<img src="/assets/images/people.png">
			</a>
		</nav>
		<!-- NAVBAR -->

		<!-- MAIN -->
		<main>
			<div class="head-title">
				<div class="left">
					<h1>Dashboard</h1>
					<ul class="breadcrumb">
						<li>
							<a href="#">Dashboard</a>
						</li>
						<li><i class='bx bx-chevron-right' ></i></li>
						<li>
							<a class="active" href="#">Home</a>
						</li>
					</ul>
				</div>
				
			</div>

			<ul class="box-info">
				<li>
					<i class='bx bxs-calendar-check' ></i>
					<span class="text">
						<h3><%= totalOrders %></h3>
						<p>Total Order</p>
					</span>
				</li>
				<li>
					<i class='bx bxs-group' ></i>
					<span class="text">
						<h3><%= users %></h3>
						<p>Users</p>
					</span>
				</li>
				<li>
					<i class='bx bxs-dollar-circle' ></i>
					<span class="text">
						<h3>₹<%= totalRevenue %></h3>
						<p>Total Sales</p>
					</span>
				</li>
			</ul>


			
				<div class="order" id="chart">
					
				</div>

				<div class="order" id="piechart">
					
				</div>
				
				

               
                  
                  
		
		</main>
		<!-- MAIN -->
	</section>
	<!-- CONTENT -->
	

	<script src="/assets/js/admindash.js"></script>
	<script src="/assets/js/toggle.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>

	<script>

           var revenueData= '<%= JSON.stringify(monthlyData)%>'

		   var revenueLost='<%= JSON.stringify(monthlyReturn)%>'

		   var deliveredOrder= '<%= JSON.stringify(deliveredOrder)%>'

		   var pendingOrder= '<%= JSON.stringify(PendingOrder)%>'

		   var returnOrder= '<%= JSON.stringify(returnOrder)%>'

		   var cancelOrder= '<%= JSON.stringify(cancelOrder)%>'

		  

		
        let value= JSON.parse(revenueData)
		let Return= JSON.parse(revenueLost)
		let Delivered= JSON.parse(deliveredOrder)
		let pending= JSON.parse(pendingOrder)
		let returned= JSON.parse(returnOrder)
		let cancelled= JSON.parse(cancelOrder)
		

		
     
		   
		
        var options = {
          series: [
		{
          name: 'Revenue',
          data: value
		
        }, {
          name: 'Return',
          
        }],
          chart: {
          type: 'bar',
          height: 350
        },
        plotOptions: {
          bar: {
            horizontal: false,
            columnWidth: '50%',
            endingShape: 'rounded'
          },
        },
        dataLabels: {
          enabled: false
        },
        stroke: {
          show: true,
          width: 2,
          colors: ['transparent']
        },
        xaxis: {
          categories: [ 'jan',  'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct','Nov','Dec'],
        },
        yaxis: {
          title: {
            text: '₹ (rupees) revenue bar'
          }
        },
        fill: {
          opacity: 1
        },
        tooltip: {
          y: {
            formatter: function (val) {
              return "" + val + " "
            }
          }
        }
        };

        var chart = new ApexCharts(document.querySelector("#chart"), options);
        chart.render();

		var options = {
          series: [Delivered, pending, returned,cancelled],
          chart: {
          width: 380,
          type: 'pie',
        },
        labels: ['delivered', 'pending', 'returned','cancelled'],
        responsive: [{
          breakpoint: 480,
          options: {
            chart: {
              width: 200
            },
            legend: {
              position: 'bottom'
            }
          }
        }]
        };

        var piechart = new ApexCharts(document.querySelector("#piechart"), options);
        piechart.render();
      

	</script>
</body>

<%- include('footer') -%>